import{_ as M,C as K,l as V,r as A,o as Y,D as E,c as B,d as a,e as n,f as s,h as S,w as G,t as l,u as t,i as w,A as R,n as f,F as I,j as b,E as Q,G as H,H as P,I as W,J as D,x as F,p as X,k as $,K as Z,L as U,M as k,N as z,O as q}from"./index-73bd6dec.js";import{j as ss}from"./judgeType-2d3ba1c9.js";const es="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAAAXNSR0IArs4c6QAAAXRJREFUOE+NlO1ZwzAMhF9lAdoNygTABHQDYIMyAK03oJ0AJwvQbgAbdIQwAWGDdIGIx46Tuvl66p+WfNLpThYmjhpWKBufoljJOIylSzeghkV4vAJmnXgJ7BFSsRRxrAVSwz3KB7Cc6jKKfSHsxJK7uzPQmiPC45UgdZryLRnPLVCg8zsIouz8vfA+GBduHU3fka6xSBhqN1uY+6uKAuGmB6akkmEaoHIk6SAZbuiu2Hakq1JS5hIk/mwrOSoJR6BsBtnEvCBOycoLYtriwqvomhzhrgVyl5b9pL/eMCRe4ebkfaB6sINgapihuO69UhGLnz61Jio8xNTUsPSUhtRzhcMge8OW9MJjloTcUdYN2unmJBmzYfmVP8lYBLc7KoWkvISil8a9kL/er9iQOep3ahvtW4F6Czg7nNcoNuRgpSnZWj90VsQDOY9UvuLTNRhuz0jY9pY2Mt2CCgOsem5XTv4bSbCj38hQF971NSjh8ahR/wGGKZMrx31XHQAAAABJRU5ErkJggg==";const e=v=>(X("data-v-4c8ea656"),v=v(),$(),v),ts={class:"courseContainer"},os={class:"courseInfoTop"},cs={class:"info-container"},as={class:"route"},ns={class:"route-item",style:{cursor:"pointer"}},is=e(()=>s("li",{class:"route-item"},[s("i",{class:"el-icon-arrow-right"})],-1)),ls={class:"route-item",style:{cursor:"pointer"}},ds=e(()=>s("li",{class:"route-item"},[s("i",{class:"el-icon-arrow-right"})],-1)),rs={class:"route-item"},_s={class:"name"},us={class:"info"},hs=e(()=>s("div",{class:"Avat"},[s("img",{src:Z,alt:""})],-1)),ms={class:"teacherName"},vs={class:"name-item"},ps=e(()=>s("img",{src:es,alt:""},null,-1)),As=e(()=>s("li",{class:"name-item"},"金牌讲师",-1)),fs={class:"access"},ks=e(()=>s("li",{class:"access-item"},"难度",-1)),Cs={class:"access-item"},gs=e(()=>s("li",{class:"access-item"},"·",-1)),Is=e(()=>s("li",{class:"access-item"},"时长",-1)),bs={class:"access-item"},ys=e(()=>s("li",{class:"access-item"},"·",-1)),Ns=e(()=>s("li",{class:"access-item"},"学习人数",-1)),Bs={class:"access-item"},Ss=e(()=>s("li",{class:"access-item"},"·",-1)),ws=e(()=>s("li",{class:"access-item"},"综合评分",-1)),Rs=e(()=>s("li",{class:"access-item"},"10.00",-1)),Us={class:"info-nav"},zs={class:"nav-container"},Ls={key:0,class:"course"},xs={class:"main"},Js=e(()=>s("div",{class:"desc"},"该课程暂无介绍",-1)),Os=e(()=>s("button",{class:"btn-item active"},"立即购买",-1)),js={class:"chapterName"},Ts={class:"chapterDesc"},Ms={class:"videos"},Ks=e(()=>s("div",{class:"video-itemIcon"},[s("i",{class:"el-icon-video-camera"})],-1)),Vs={class:"item-name"},Ys=e(()=>s("span",{class:"shipin"},"视频：",-1)),Es={class:"chapterName"},Gs={key:0,class:"free"},Qs=["onClick"],Hs=e(()=>s("div",{class:"clearfloat"},null,-1)),Ps={key:1},Ws={key:0},Ds={class:"source"},Fs={class:"downloadCourse"},Xs=["onClick"],$s={key:1},Zs={__name:"courseInfo",setup(v){const L=K(),x=V(),C=L.params;let i=A(!0),d=A([]),g=A([]),y=A([]);Y(()=>{E(C).then(o=>{d.value=o.data.data,g.value=o.data.data.bizCourseAttachments,y.value=o.data.data.bizCourseChapters})});const J=(o,r)=>{if(!U())return k("请先登录");z({courseId:o.courseId}).then(m=>{if(!m.data.data.hasAuth)return k("请先购买该课程");x.push(`/coursePlay/${C.id}/${r}`)})},O=o=>{if(!U())return k("请先登录");z({courseId:o.courseId}).then(h=>{if(!h.data.data.hasAuth)return k("请先购买该课程");q({courseId:o.courseId,attachmentId:o.id}).then(c=>{const u=new Blob([c]);let p=o.attachmentName,N=o.attachmentUrl;const T=N.substring(N.lastIndexOf("."));p=p+T;const _=document.createElement("a");_.download=p,_.target="_blank",_.style.display="none",_.href=URL.createObjectURL(u),document.body.appendChild(_),_.click(),URL.revokeObjectURL(_.href),document.body.removeChild(_)})})},j=()=>{Q().then(o=>{if(o.meta.code==200){let h=o.data.token;H({courseId:C.id,memberId:P().userId},h).then(m=>{m.meta.code==200?W("加入购物车成功"):D("加入购物车失败，请勿重复提交")})}})};return(o,r)=>{const h=B("router-link"),m=B("el-empty");return a(),n("div",ts,[s("div",os,[s("div",cs,[s("ul",as,[s("li",ns,[S(h,{to:"/course",style:{color:"#fff"}},{default:G(()=>[w("课程 >")]),_:1})]),is,s("li",ls,l(t(d).discountPrice==0?"免费课":"会员课")+" > ",1),ds,s("li",rs,l(t(d).courseName),1)]),s("div",_s,l(t(d).courseName),1),s("div",us,[hs,s("ul",ms,[s("li",vs,[w(l(t(d).courseName)+" ",1),ps]),As]),s("ul",fs,[ks,s("li",Cs,l(t(ss)(t(d).courseLevel)),1),gs,Is,s("li",bs,l(t(d).totalHour)+"个小时",1),ys,Ns,s("li",Bs,l(t(d).purchaseCounter+t(d).purchaseCnt)+"人 ",1),Ss,ws,Rs])])])]),s("div",Us,[s("div",zs,[s("div",{class:"chapter-item",onClick:r[0]||(r[0]=c=>R(i)?i.value=!0:i=!0)},[s("div",{class:f(t(i)?"active1":"")},"章节",2),s("div",{class:f(["line",t(i)?"active2":""])},null,2)]),s("div",{class:"chapter-item",onClick:r[1]||(r[1]=c=>R(i)?i.value=!1:i=!1)},[s("div",{class:f(t(i)?"":"active1")},"下载资料",2),s("div",{class:f(["line",t(i)?"":"active2"])},null,2)])])]),t(i)?(a(),n("div",Ls,[s("div",xs,[s("div",{class:"introduction"},[Js,s("div",{class:"btn"},[Os,s("button",{class:"btn-item",onClick:j},"加入购物车")])]),(a(!0),n(I,null,b(t(y),c=>(a(),n("div",{class:"video",key:c.id},[s("div",js,l(c.chapterName),1),s("div",Ts,l(c.description),1),s("ul",Ms,[(a(!0),n(I,null,b(c.children,u=>(a(),n("li",{class:"video-item",key:u.id},[Ks,s("div",Vs,[Ys,s("span",Es,l(u.chapterName),1),u.publicType==2?(a(),n("span",Gs,"试看")):F("",!0)]),s("button",{class:"btn-learn",onClick:p=>J(c,u.id)}," 开始学习 ",8,Qs),Hs]))),128))])]))),128))])])):(a(),n("div",Ps,[t(g).length>0?(a(),n("div",Ws,[(a(!0),n(I,null,b(t(g),c=>(a(),n("div",{class:"down",key:c.id},[s("div",Ds,[s("span",Fs,l(c.attachmentName),1),s("button",{class:"downloadbtn",onClick:u=>O(c)}," 下载资料 ",8,Xs)])]))),128))])):(a(),n("div",$s,[S(m,{description:"该课程暂无资料"})]))]))])}}},ee=M(Zs,[["__scopeId","data-v-4c8ea656"]]);export{ee as default};
